# mephi_unix
OS and networks sh scripts

Как всё устроено?
Под каждый раздел заводится каталог с названием, соответствующим разделу в лабнике. Например разделу "4. Перенаправление ввода/вывода. Конвейеры". Соответствует каталог "4". В каждом таком каталоге создается скрипт с названием вида "${task_index}_${readable_description}.sh", где $task_index - номер задания в рамках раздела, $readable_description - краткое описание скрипта английскими словами БЕЗ пробелов (разделителями слов служат '-' или '_'). Формат содержимого скрипта:

#!/bin/bash
# ^ Заголовок для интерпретатора
#
# Некоторый опциональный комментарий
#

# Собственно код.

Скрипт должен быть исполняемым: права на скрипт 755.

Каждый скрипт должен успешно работать вне зависимости от того, из какого каталога он вызван, при этом он не должен изменять $PWD. Т.е. как сказал Суставов: cd ЗАПРЕЩЁН.

Если вам по какой-то причине нужно получить путь к скрипту используйте подобный шаблон:

# полный путь до скрипта
script_full_path=`readlink -e "$0"`
# каталог в котором лежит скрипт
script_dir=`dirname "$script_full_path"`

Обычный вывод осуществляется в stdout
Вывод ошибок осуществляется в stderr.

Посторонние файлы в каталоге скриптов создавать запрещено, т.е. имеют право на жизнь только исполняемые файлы *.sh

Для создания каких-либо файлов, нужных по ходу работы скрипта, используйте:

tmp_file_name=`mktemp`
tmp_dir_name=`mktemp –d`

Ну и конечно же за собой надо убирать:

trap 'rm -rf "$tmp_dir_name"' EXIT

Regards, Alexey Knyshev
