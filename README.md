# mephi_unix
OS and networks sh scripts

Как всё устроено?
Под каждый раздел заводится каталог с названием, соответствующим разделу в лабнике. Например разделу "4. Перенаправление ввода/вывода. Конвейеры". Соответствует каталог "4". В каждом таком каталоге создается скрипт с названием вида "${task\_index}\_${readable\_description}.sh", где $task\_index - номер задания в рамках раздела, $readable\_description - краткое описание скрипта английскими словами БЕЗ пробелов (разделителями слов служат '-' или \'_\'). Формат содержимого скрипта:

```bash
#!/bin/bash
# ^ Заголовок для интерпретатора
#
# Некоторый опциональный комментарий
#

# Собственно код.
```

Скрипт должен быть исполняемым: права на скрипт 755.

Каждый скрипт должен успешно работать вне зависимости от того, из какого каталога он вызван, при этом он не должен изменять $PWD. Т.е. как сказал Суставов: cd ЗАПРЕЩЁН.

Если вам по какой-то причине нужно получить путь к скрипту используйте подобный шаблон:

```bash
# полный путь до скрипта
script_full_path=`readlink -e "$0"`
# каталог в котором лежит скрипт
script_dir=`dirname "$script_full_path"`
```

Обычный вывод осуществляется в stdout
Вывод ошибок осуществляется в stderr.

Посторонние файлы в каталоге скриптов создавать запрещено, т.е. имеют право на жизнь только исполняемые файлы *.sh

Для создания каких-либо файлов, нужных по ходу работы скрипта, используйте:

```bash
tmp_file_name=`mktemp`
tmp_dir_name=`mktemp –d`
```

Ну и конечно же за собой надо убирать:

```bash
trap 'rm -rf "$tmp_dir_name"' EXIT
```

Regards, Alexey Knyshev
